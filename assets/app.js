angular.module("app",[]);var app=angular.module("app",[]);app.controller("PostsCtrl",["$scope","PostsSvc",function(t,s){s.fetch().then(function(s){t.posts=s.data}),t.addPost=function(){t.postBody&&s.create({username:"shankar",body:t.postBody}).then(function(s){t.posts.unshift(s),t.postBody=null}),s.fetch().then(function(s){t.posts=s.data})}}]),app.service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/posts")},this.create=function(s){return t.posts("/api/posts",s)}}]),angular.module("app").controller("PostsCtrl",["$scope","PostsSvc",function(t,s){t.addPost=function(){t.postBody&&Posts.Svc.create({username:"shankar",body:t.postBody}).success(function(s){t.posts.unshift(s),t.postBody=null})}}]),PostsSvc.fetch().success(function(t){$scope.posts=t}),angular.module("app").service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/posts")},this.create=function(s){return t.posts("/api/posts",s)}}]);